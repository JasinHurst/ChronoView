{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jasin\\\\OneDrive\\\\Desktop\\\\ChronoView - Copy\\\\src\\\\components\\\\ChartWindow\\\\ChartWindow.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from \"react\";\nimport { createChart } from \"lightweight-charts\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ChartPage = () => {\n  _s();\n  const chartContainerRef = useRef();\n  useEffect(() => {\n    const chart = createChart(chartContainerRef.current, {\n      width: chartContainerRef.current.clientWidth,\n      height: 600,\n      layout: {\n        background: {\n          color: \"#1f1f1f\"\n        },\n        textColor: \"#fbf2f2\"\n      },\n      grid: {\n        vertLines: {\n          color: \"#2c2c2c\"\n        },\n        horzLines: {\n          color: \"#2c2c2c\"\n        }\n      },\n      crosshair: {\n        mode: 0\n      },\n      timeScale: {\n        borderColor: \"#ff6600\"\n      }\n    });\n    const candleSeries = chart.addCandlestickSeries({\n      upColor: \"#12e475\",\n      borderUpColor: \"#12e475\",\n      wickUpColor: \"#12e475\",\n      downColor: \"#f7052d\",\n      borderDownColor: \"#f7052d\",\n      wickDownColor: \"#f7052d\"\n    });\n    fetch(\"http://127.0.0.1:8000/api/history?symbol=AAPL\").then(res => res.json()).then(data => {\n      candleSeries.setData(data.map(item => ({\n        time: item.time,\n        open: item.open,\n        high: item.high,\n        low: item.low,\n        close: item.close\n      })));\n    });\n    const handleResize = () => {\n      chart.applyOptions({\n        width: chartContainerRef.current.clientWidth\n      });\n    };\n    window.addEventListener(\"resize\", handleResize);\n    return () => {\n      window.removeEventListener(\"resize\", handleResize);\n      chart.remove();\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: chartContainerRef,\n    style: {\n      position: \"relative\",\n      width: \"100%\",\n      height: \"100vh\",\n      backgroundColor: \"#1f1f1f\"\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n};\n_s(ChartPage, \"ZI1LdXO604IZpmh0kAttG3FSLiA=\");\n_c = ChartPage;\nexport default ChartPage;\nvar _c;\n$RefreshReg$(_c, \"ChartPage\");","map":{"version":3,"names":["React","useEffect","useRef","createChart","jsxDEV","_jsxDEV","ChartPage","_s","chartContainerRef","chart","current","width","clientWidth","height","layout","background","color","textColor","grid","vertLines","horzLines","crosshair","mode","timeScale","borderColor","candleSeries","addCandlestickSeries","upColor","borderUpColor","wickUpColor","downColor","borderDownColor","wickDownColor","fetch","then","res","json","data","setData","map","item","time","open","high","low","close","handleResize","applyOptions","window","addEventListener","removeEventListener","remove","ref","style","position","backgroundColor","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/jasin/OneDrive/Desktop/ChronoView - Copy/src/components/ChartWindow/ChartWindow.jsx"],"sourcesContent":["import React, { useEffect, useRef } from \"react\";\r\nimport { createChart } from \"lightweight-charts\";\r\n\r\nconst ChartPage = () => {\r\n  const chartContainerRef = useRef();\r\n\r\n  useEffect(() => {\r\n    const chart = createChart(chartContainerRef.current, {\r\n      width: chartContainerRef.current.clientWidth,\r\n      height: 600,\r\n      layout: {\r\n        background: { color: \"#1f1f1f\" },\r\n        textColor: \"#fbf2f2\",\r\n      },\r\n      grid: {\r\n        vertLines: { color: \"#2c2c2c\" },\r\n        horzLines: { color: \"#2c2c2c\" },\r\n      },\r\n      crosshair: { mode: 0 },\r\n      timeScale: { borderColor: \"#ff6600\" },\r\n    });\r\n\r\n    const candleSeries = chart.addCandlestickSeries({\r\n      upColor: \"#12e475\",\r\n      borderUpColor: \"#12e475\",\r\n      wickUpColor: \"#12e475\",\r\n      downColor: \"#f7052d\",\r\n      borderDownColor: \"#f7052d\",\r\n      wickDownColor: \"#f7052d\",\r\n    });\r\n\r\n    fetch(\"http://127.0.0.1:8000/api/history?symbol=AAPL\")\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        candleSeries.setData(\r\n          data.map((item) => ({\r\n            time: item.time,\r\n            open: item.open,\r\n            high: item.high,\r\n            low: item.low,\r\n            close: item.close,\r\n          }))\r\n        );\r\n      });\r\n\r\n    const handleResize = () => {\r\n      chart.applyOptions({ width: chartContainerRef.current.clientWidth });\r\n    };\r\n    window.addEventListener(\"resize\", handleResize);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"resize\", handleResize);\r\n      chart.remove();\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div\r\n      ref={chartContainerRef}\r\n      style={{\r\n        position: \"relative\",\r\n        width: \"100%\",\r\n        height: \"100vh\",\r\n        backgroundColor: \"#1f1f1f\",\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default ChartPage;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAChD,SAASC,WAAW,QAAQ,oBAAoB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEjD,MAAMC,SAAS,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACtB,MAAMC,iBAAiB,GAAGN,MAAM,CAAC,CAAC;EAElCD,SAAS,CAAC,MAAM;IACd,MAAMQ,KAAK,GAAGN,WAAW,CAACK,iBAAiB,CAACE,OAAO,EAAE;MACnDC,KAAK,EAAEH,iBAAiB,CAACE,OAAO,CAACE,WAAW;MAC5CC,MAAM,EAAE,GAAG;MACXC,MAAM,EAAE;QACNC,UAAU,EAAE;UAAEC,KAAK,EAAE;QAAU,CAAC;QAChCC,SAAS,EAAE;MACb,CAAC;MACDC,IAAI,EAAE;QACJC,SAAS,EAAE;UAAEH,KAAK,EAAE;QAAU,CAAC;QAC/BI,SAAS,EAAE;UAAEJ,KAAK,EAAE;QAAU;MAChC,CAAC;MACDK,SAAS,EAAE;QAAEC,IAAI,EAAE;MAAE,CAAC;MACtBC,SAAS,EAAE;QAAEC,WAAW,EAAE;MAAU;IACtC,CAAC,CAAC;IAEF,MAAMC,YAAY,GAAGhB,KAAK,CAACiB,oBAAoB,CAAC;MAC9CC,OAAO,EAAE,SAAS;MAClBC,aAAa,EAAE,SAAS;MACxBC,WAAW,EAAE,SAAS;MACtBC,SAAS,EAAE,SAAS;MACpBC,eAAe,EAAE,SAAS;MAC1BC,aAAa,EAAE;IACjB,CAAC,CAAC;IAEFC,KAAK,CAAC,+CAA+C,CAAC,CACnDC,IAAI,CAAEC,GAAG,IAAKA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACzBF,IAAI,CAAEG,IAAI,IAAK;MACdZ,YAAY,CAACa,OAAO,CAClBD,IAAI,CAACE,GAAG,CAAEC,IAAI,KAAM;QAClBC,IAAI,EAAED,IAAI,CAACC,IAAI;QACfC,IAAI,EAAEF,IAAI,CAACE,IAAI;QACfC,IAAI,EAAEH,IAAI,CAACG,IAAI;QACfC,GAAG,EAAEJ,IAAI,CAACI,GAAG;QACbC,KAAK,EAAEL,IAAI,CAACK;MACd,CAAC,CAAC,CACJ,CAAC;IACH,CAAC,CAAC;IAEJ,MAAMC,YAAY,GAAGA,CAAA,KAAM;MACzBrC,KAAK,CAACsC,YAAY,CAAC;QAAEpC,KAAK,EAAEH,iBAAiB,CAACE,OAAO,CAACE;MAAY,CAAC,CAAC;IACtE,CAAC;IACDoC,MAAM,CAACC,gBAAgB,CAAC,QAAQ,EAAEH,YAAY,CAAC;IAE/C,OAAO,MAAM;MACXE,MAAM,CAACE,mBAAmB,CAAC,QAAQ,EAAEJ,YAAY,CAAC;MAClDrC,KAAK,CAAC0C,MAAM,CAAC,CAAC;IAChB,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN,oBACE9C,OAAA;IACE+C,GAAG,EAAE5C,iBAAkB;IACvB6C,KAAK,EAAE;MACLC,QAAQ,EAAE,UAAU;MACpB3C,KAAK,EAAE,MAAM;MACbE,MAAM,EAAE,OAAO;MACf0C,eAAe,EAAE;IACnB;EAAE;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEN,CAAC;AAACpD,EAAA,CAhEID,SAAS;AAAAsD,EAAA,GAATtD,SAAS;AAkEf,eAAeA,SAAS;AAAC,IAAAsD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}