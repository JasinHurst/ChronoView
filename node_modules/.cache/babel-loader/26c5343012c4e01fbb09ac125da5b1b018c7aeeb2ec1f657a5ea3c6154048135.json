{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jasin\\\\OneDrive\\\\Desktop\\\\ChronoView - Copy\\\\src\\\\components\\\\ChartWindow\\\\ChartWindow.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { createChart } from \"lightweight-charts\";\nimport \"./ChartWindow.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ChartWindow = () => {\n  _s();\n  const chartContainerRef = useRef();\n  const chartRef = useRef();\n  const [symbol, setSymbol] = useState(\"SPX\");\n  const [interval, setInterval] = useState(\"1d\");\n  const [range, setRange] = useState(\"6mo\");\n  useEffect(() => {\n    if (chartRef.current) chartRef.current.remove();\n    const chart = createChart(chartContainerRef.current, {\n      width: chartContainerRef.current.clientWidth,\n      height: 600,\n      layout: {\n        background: {\n          color: \"#1f1f1f\"\n        },\n        textColor: \"#fbf2f2\"\n      },\n      grid: {\n        vertLines: {\n          color: \"#2a2a2a\"\n        },\n        horzLines: {\n          color: \"#2a2a2a\"\n        }\n      },\n      crosshair: {\n        mode: 1\n      },\n      rightPriceScale: {\n        borderVisible: false\n      },\n      timeScale: {\n        borderVisible: false\n      }\n    });\n    chartRef.current = chart;\n    const candleSeries = chart.addCandlestickSeries({\n      upColor: \"#0ce475\",\n      borderUpColor: \"#0ce475\",\n      wickUpColor: \"#0ce475\",\n      downColor: \"#f7052d\",\n      borderDownColor: \"#f7052d\",\n      wickDownColor: \"#f7052d\"\n    });\n    const fetchData = async () => {\n      try {\n        const res = await fetch(`http://127.0.0.1:8000/api/history?symbol=${symbol}&interval=${interval}&range=${range}`);\n        const data = await res.json();\n        candleSeries.setData(data);\n      } catch (err) {\n        console.error(\"Chart fetch error:\", err);\n      }\n    };\n    fetchData();\n    const handleResize = () => {\n      chart.applyOptions({\n        width: chartContainerRef.current.clientWidth\n      });\n    };\n    window.addEventListener(\"resize\", handleResize);\n    return () => {\n      window.removeEventListener(\"resize\", handleResize);\n      chart.remove();\n    };\n  }, [symbol, interval, range]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chart-wrapper\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chart-toolbar\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"symbol-input\",\n        value: symbol,\n        onChange: e => setSymbol(e.target.value.toUpperCase())\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        className: \"chart-select\",\n        onChange: e => setInterval(e.target.value),\n        value: interval,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"1m\",\n          children: \"1m\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"5m\",\n          children: \"5m\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"1h\",\n          children: \"1h\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"1d\",\n          children: \"1d\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"1wk\",\n          children: \"1wk\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        className: \"chart-select\",\n        onChange: e => setRange(e.target.value),\n        value: range,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"1mo\",\n          children: \"1M\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"3mo\",\n          children: \"3M\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"6mo\",\n          children: \"6M\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"1y\",\n          children: \"1Y\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"5y\",\n          children: \"5Y\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"max\",\n          children: \"Max\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: chartContainerRef,\n      className: \"chart-container\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n};\n_s(ChartWindow, \"k0aVpij2fyLLIOo+zDqv0VyTiu8=\");\n_c = ChartWindow;\nexport default ChartWindow;\nvar _c;\n$RefreshReg$(_c, \"ChartWindow\");","map":{"version":3,"names":["React","useEffect","useRef","useState","createChart","jsxDEV","_jsxDEV","ChartWindow","_s","chartContainerRef","chartRef","symbol","setSymbol","interval","setInterval","range","setRange","current","remove","chart","width","clientWidth","height","layout","background","color","textColor","grid","vertLines","horzLines","crosshair","mode","rightPriceScale","borderVisible","timeScale","candleSeries","addCandlestickSeries","upColor","borderUpColor","wickUpColor","downColor","borderDownColor","wickDownColor","fetchData","res","fetch","data","json","setData","err","console","error","handleResize","applyOptions","window","addEventListener","removeEventListener","className","children","value","onChange","e","target","toUpperCase","fileName","_jsxFileName","lineNumber","columnNumber","ref","_c","$RefreshReg$"],"sources":["C:/Users/jasin/OneDrive/Desktop/ChronoView - Copy/src/components/ChartWindow/ChartWindow.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\nimport { createChart } from \"lightweight-charts\";\r\nimport \"./ChartWindow.css\";\r\n\r\nconst ChartWindow = () => {\r\n  const chartContainerRef = useRef();\r\n  const chartRef = useRef();\r\n  const [symbol, setSymbol] = useState(\"SPX\");\r\n  const [interval, setInterval] = useState(\"1d\");\r\n  const [range, setRange] = useState(\"6mo\");\r\n\r\n  useEffect(() => {\r\n    if (chartRef.current) chartRef.current.remove();\r\n\r\n    const chart = createChart(chartContainerRef.current, {\r\n      width: chartContainerRef.current.clientWidth,\r\n      height: 600,\r\n      layout: { background: { color: \"#1f1f1f\" }, textColor: \"#fbf2f2\" },\r\n      grid: {\r\n        vertLines: { color: \"#2a2a2a\" },\r\n        horzLines: { color: \"#2a2a2a\" },\r\n      },\r\n      crosshair: { mode: 1 },\r\n      rightPriceScale: { borderVisible: false },\r\n      timeScale: { borderVisible: false },\r\n    });\r\n\r\n    chartRef.current = chart;\r\n    const candleSeries = chart.addCandlestickSeries({\r\n      upColor: \"#0ce475\",\r\n      borderUpColor: \"#0ce475\",\r\n      wickUpColor: \"#0ce475\",\r\n      downColor: \"#f7052d\",\r\n      borderDownColor: \"#f7052d\",\r\n      wickDownColor: \"#f7052d\",\r\n    });\r\n\r\n    const fetchData = async () => {\r\n      try {\r\n        const res = await fetch(\r\n          `http://127.0.0.1:8000/api/history?symbol=${symbol}&interval=${interval}&range=${range}`\r\n        );\r\n        const data = await res.json();\r\n        candleSeries.setData(data);\r\n      } catch (err) {\r\n        console.error(\"Chart fetch error:\", err);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n\r\n    const handleResize = () => {\r\n      chart.applyOptions({ width: chartContainerRef.current.clientWidth });\r\n    };\r\n    window.addEventListener(\"resize\", handleResize);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"resize\", handleResize);\r\n      chart.remove();\r\n    };\r\n  }, [symbol, interval, range]);\r\n\r\n  return (\r\n    <div className=\"chart-wrapper\">\r\n      <div className=\"chart-toolbar\">\r\n        <input\r\n          className=\"symbol-input\"\r\n          value={symbol}\r\n          onChange={(e) => setSymbol(e.target.value.toUpperCase())}\r\n        />\r\n        <select\r\n          className=\"chart-select\"\r\n          onChange={(e) => setInterval(e.target.value)}\r\n          value={interval}\r\n        >\r\n          <option value=\"1m\">1m</option>\r\n          <option value=\"5m\">5m</option>\r\n          <option value=\"1h\">1h</option>\r\n          <option value=\"1d\">1d</option>\r\n          <option value=\"1wk\">1wk</option>\r\n        </select>\r\n        <select\r\n          className=\"chart-select\"\r\n          onChange={(e) => setRange(e.target.value)}\r\n          value={range}\r\n        >\r\n          <option value=\"1mo\">1M</option>\r\n          <option value=\"3mo\">3M</option>\r\n          <option value=\"6mo\">6M</option>\r\n          <option value=\"1y\">1Y</option>\r\n          <option value=\"5y\">5Y</option>\r\n          <option value=\"max\">Max</option>\r\n        </select>\r\n      </div>\r\n      <div ref={chartContainerRef} className=\"chart-container\" />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChartWindow;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}