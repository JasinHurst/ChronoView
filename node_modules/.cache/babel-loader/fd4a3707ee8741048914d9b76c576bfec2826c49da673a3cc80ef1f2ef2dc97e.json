{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jasin\\\\OneDrive\\\\Desktop\\\\ChronoView\\\\src\\\\components\\\\ChartWindow.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport './ChartWindow.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ChartWindow = () => {\n  _s();\n  const [size, setSize] = useState({\n    width: 1750,\n    height: 800\n  });\n  const [position, setPosition] = useState({\n    x: 0,\n    y: 0\n  });\n  const [locked, setLocked] = useState(true);\n  const chartRef = useRef(null);\n  const initialized = useRef(false);\n\n  // ✅ Center only once on mount\n  useEffect(() => {\n    if (initialized.current) return;\n    const centerX = (window.innerWidth - size.width) / 2;\n    const centerY = (window.innerHeight - size.height) / 2 + 50; // adjust offset manually\n    setPosition({\n      x: centerX,\n      y: centerY\n    });\n    initialized.current = true;\n  }, [size.width, size.height]);\n\n  // ----- Dragging -----\n  const isDragging = useRef(false);\n  const dragOffset = useRef({\n    x: 0,\n    y: 0\n  });\n  const startDrag = e => {\n    if (locked) return;\n    isDragging.current = true;\n    dragOffset.current = {\n      x: e.clientX - position.x,\n      y: e.clientY - position.y\n    };\n    window.addEventListener('mousemove', onDrag);\n    window.addEventListener('mouseup', stopDrag);\n  };\n  const onDrag = e => {\n    if (!isDragging.current) return;\n    setPosition({\n      x: e.clientX - dragOffset.current.x,\n      y: e.clientY - dragOffset.current.y\n    });\n  };\n  const stopDrag = () => {\n    isDragging.current = false;\n    window.removeEventListener('mousemove', onDrag);\n    window.removeEventListener('mouseup', stopDrag);\n  };\n\n  // ----- Resizing -----\n  const startResize = e => {\n    if (locked) return;\n    const startX = e.clientX;\n    const startY = e.clientY;\n    const startWidth = chartRef.current.offsetWidth;\n    const startHeight = chartRef.current.offsetHeight;\n    const onMouseMove = e => {\n      setSize({\n        width: Math.max(600, startWidth + e.clientX - startX),\n        height: Math.max(400, startHeight + e.clientY - startY)\n      });\n    };\n    const onMouseUp = () => {\n      window.removeEventListener('mousemove', onMouseMove);\n      window.removeEventListener('mouseup', onMouseUp);\n    };\n    window.addEventListener('mousemove', onMouseMove);\n    window.addEventListener('mouseup', onMouseUp);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chart-window\",\n    ref: chartRef,\n    style: {\n      width: size.width,\n      height: size.height,\n      position: 'fixed',\n      top: `${position.y}px`,\n      left: `${position.x}px`,\n      cursor: locked ? 'default' : 'move'\n    },\n    onMouseDown: startDrag,\n    children: [/*#__PURE__*/_jsxDEV(\"canvas\", {\n      id: \"astroChart\",\n      width: size.width,\n      height: size.height\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this), !locked && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"resize-handle\",\n      onMouseDown: startResize\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 19\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"button-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"detach-btn\",\n        onClick: () => setLocked(false),\n        children: \"Detach\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"lock-btn\",\n        onClick: () => setLocked(true),\n        children: \"Lock\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this);\n};\n_s(ChartWindow, \"rd2QIEnP0dstdC6/F8x0MQloX/4=\");\n_c = ChartWindow;\nexport default ChartWindow;\nvar _c;\n$RefreshReg$(_c, \"ChartWindow\");","map":{"version":3,"names":["React","useState","useRef","useEffect","jsxDEV","_jsxDEV","ChartWindow","_s","size","setSize","width","height","position","setPosition","x","y","locked","setLocked","chartRef","initialized","current","centerX","window","innerWidth","centerY","innerHeight","isDragging","dragOffset","startDrag","e","clientX","clientY","addEventListener","onDrag","stopDrag","removeEventListener","startResize","startX","startY","startWidth","offsetWidth","startHeight","offsetHeight","onMouseMove","Math","max","onMouseUp","className","ref","style","top","left","cursor","onMouseDown","children","id","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","$RefreshReg$"],"sources":["C:/Users/jasin/OneDrive/Desktop/ChronoView/src/components/ChartWindow.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport './ChartWindow.css';\r\n\r\nconst ChartWindow = () => {\r\n  const [size, setSize] = useState({ width: 1750, height: 800 });\r\n  const [position, setPosition] = useState({ x: 0, y: 0 });\r\n  const [locked, setLocked] = useState(true);\r\n  const chartRef = useRef(null);\r\n  const initialized = useRef(false);\r\n\r\n  // ✅ Center only once on mount\r\n  useEffect(() => {\r\n    if (initialized.current) return;\r\n    const centerX = (window.innerWidth - size.width) / 2;\r\n    const centerY = (window.innerHeight - size.height) / 2 + 50; // adjust offset manually\r\n    setPosition({ x: centerX, y: centerY });\r\n    initialized.current = true;\r\n  }, [size.width, size.height]);\r\n\r\n  // ----- Dragging -----\r\n  const isDragging = useRef(false);\r\n  const dragOffset = useRef({ x: 0, y: 0 });\r\n\r\n  const startDrag = (e) => {\r\n    if (locked) return;\r\n    isDragging.current = true;\r\n    dragOffset.current = {\r\n      x: e.clientX - position.x,\r\n      y: e.clientY - position.y,\r\n    };\r\n    window.addEventListener('mousemove', onDrag);\r\n    window.addEventListener('mouseup', stopDrag);\r\n  };\r\n\r\n  const onDrag = (e) => {\r\n    if (!isDragging.current) return;\r\n    setPosition({\r\n      x: e.clientX - dragOffset.current.x,\r\n      y: e.clientY - dragOffset.current.y,\r\n    });\r\n  };\r\n\r\n  const stopDrag = () => {\r\n    isDragging.current = false;\r\n    window.removeEventListener('mousemove', onDrag);\r\n    window.removeEventListener('mouseup', stopDrag);\r\n  };\r\n\r\n  // ----- Resizing -----\r\n  const startResize = (e) => {\r\n    if (locked) return;\r\n    const startX = e.clientX;\r\n    const startY = e.clientY;\r\n    const startWidth = chartRef.current.offsetWidth;\r\n    const startHeight = chartRef.current.offsetHeight;\r\n\r\n    const onMouseMove = (e) => {\r\n      setSize({\r\n        width: Math.max(600, startWidth + e.clientX - startX),\r\n        height: Math.max(400, startHeight + e.clientY - startY),\r\n      });\r\n    };\r\n\r\n    const onMouseUp = () => {\r\n      window.removeEventListener('mousemove', onMouseMove);\r\n      window.removeEventListener('mouseup', onMouseUp);\r\n    };\r\n\r\n    window.addEventListener('mousemove', onMouseMove);\r\n    window.addEventListener('mouseup', onMouseUp);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"chart-window\"\r\n      ref={chartRef}\r\n      style={{\r\n        width: size.width,\r\n        height: size.height,\r\n        position: 'fixed',\r\n        top: `${position.y}px`,\r\n        left: `${position.x}px`,\r\n        cursor: locked ? 'default' : 'move',\r\n      }}\r\n      onMouseDown={startDrag}\r\n    >\r\n      <canvas id=\"astroChart\" width={size.width} height={size.height}></canvas>\r\n\r\n      {!locked && <div className=\"resize-handle\" onMouseDown={startResize}></div>}\r\n\r\n      <div className=\"button-group\">\r\n        <button className=\"detach-btn\" onClick={() => setLocked(false)}>\r\n          Detach\r\n        </button>\r\n        <button className=\"lock-btn\" onClick={() => setLocked(true)}>\r\n          Lock\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChartWindow;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}